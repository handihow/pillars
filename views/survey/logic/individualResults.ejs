<script>
	$(document).ready(function() {

		var organisationStatisticsString = $( '#organisationStatistics' ).text();

		var organisationStatistics = JSON.parse(organisationStatisticsString || '[]');

		var schoolStatisticsString = $( '#schoolStatistics' ).text();

		var schoolStatistics = JSON.parse(schoolStatisticsString || '[]');

		var individualStatisticsString = $( '#individualStatistics' ).text();

		var individualStatistics= JSON.parse(individualStatisticsString || '[]');

		var chartWidth = $('#organisationStatistics').parent().width();

		var chartHeight = $('#organisationStatistics').parent().height();

		var data = [];

		for(var i=0; i<organisationStatistics.length; i++){
			console.log(i);
			var array1 = Array(organisationStatistics.length);
			array1.fill('organisatie');
			var trace1 = {
				boxpoints: 'all',
				y: organisationStatistics[i].statistics,
				x: array1,
				type: 'box',
				name: organisationStatistics[i].title + ' - organisatie',
				jitter: 0.5,
        		whiskerwidth: 0.2,
		    	marker: {
		            size: 2
		        },
		        line: {
		            width: 1
		        }
				// fillcolor: chartColors[i],
			}
			data.push(trace1);
			if(schoolStatistics.length>0){
				var array2 = Array(schoolStatistics.length);
				array2.fill('school');
				var trace2 = {
					boxpoints: 'all',
					y: schoolStatistics[i].statistics,
					x: array2,
					type: 'box',
					name: schoolStatistics[i].title + ' - school',
					jitter: 0.5,
	        		whiskerwidth: 0.2,
			    	marker: {
			            size: 2
			        },
			        line: {
			            width: 1
			        }
					// fillcolor: chartColors[i],
				}
				data.push(trace2);
			}
			var trace3 = {
				boxpoints: 'all',
				y: individualStatistics[i].statistics,
				x: ['individueel'],
				type: 'box',
				name: individualStatistics[i].title + ' - individueel',

				// fillcolor: chartColors[i],
			}
			data.push(trace3);
		}

		var layout = {
		  boxmode: 'group'	  
		}


		Plotly.newPlot('analysisChart', data, layout);

			
	});
</script>