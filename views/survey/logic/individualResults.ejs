<script>
	$(document).ready(function() {

		var organisationStatisticsString = $( '#organisationStatistics' ).text();

		var organisationStatistics = JSON.parse(organisationStatisticsString || '[]');

		var schoolStatisticsString = $( '#schoolStatistics' ).text();

		var schoolStatistics = JSON.parse(schoolStatisticsString || '[]');

		var individualStatisticsString = $( '#individualStatistics' ).text();

		var individualStatistics= JSON.parse(individualStatisticsString || '[]');

		var chartWidth = $('#organisationStatistics').parent().width();

		var chartHeight = $('#organisationStatistics').parent().height();

		console.log(organisationStatistics);
		console.log(schoolStatistics);
		console.log(individualStatistics);
		console.log(chartWidth);
		console.log(chartHeight);


		// let chartColors = [
  //                   'E30613',
  //                   '009FE3',
  //                   'F9B233',
  //                   'rgb(0,0,0)',
  //                   '12AC13',
  //                   'rgba(34, 34, 188, 1)',
  //                   'rgba(246, 190, 91, 1)',
  //                   'rgba(58, 58, 58, 1)',
  //                   'rgba(191,35,66, 1)',
  //                   'rgba(36, 83, 189, 1)',
  //                   'rgba(249, 203, 19, 1)',
  //                   'rgba(112, 112, 112, 1)',
  //               ];

		var data = [];

		for(var i=0; i<organisationStatistics.length; i++){
			console.log(i);
			var array1 = Array(organisationStatistics.length);
			array1.fill('organisatie');
			var trace1 = {
				boxpoints: 'all',
				y: organisationStatistics[i].statistics,
				x: array1,
				type: 'box',
				name: organisationStatistics[i].title + ' - organisatie',
				jitter: 0.3,
    			pointpos: -1.8,
				// fillcolor: chartColors[i],
			}
			data.push(trace1);
			if(schoolStatistics.length>0){
				var array2 = Array(schoolStatistics.length);
				array2.fill('school');
				var trace2 = {
					boxpoints: 'all',
					y: schoolStatistics[i].statistics,
					x: array2,
					type: 'box',
					name: schoolStatistics[i].title + ' - school',
					jitter: 0.3,
	    			pointpos: -1.8,
					// fillcolor: chartColors[i],
				}
				data.push(trace2);
			}
			var trace3 = {
				boxpoints: 'all',
				y: individualStatistics[i].statistics,
				x: ['individueel'],
				type: 'box',
				name: individualStatistics[i].title + ' - individueel',
				jitter: 0.3,
    			pointpos: -1.8,
				// fillcolor: chartColors[i],
			}
			data.push(trace3);
		}

		var layout = {
		  boxmode: 'group'	  
		}


		Plotly.newPlot('analysisChart', data, layout);

			
	});
</script>