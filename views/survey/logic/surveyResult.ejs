<script>
	$(document).ready(function() {

		if (typeof Survey == "undefined") {
		   return console.log('survey model not defined');
		}


		if( $( '#surveyData' ).length == 0){
			return console.log('no survey data');
		}

		var defaultThemeColors = Survey
	    .StylesManager
	    .ThemeColors["default"];
		defaultThemeColors["$main-color"] = "#3B83C0";
		defaultThemeColors["$main-hover-color"] = "#54C8FF";
		defaultThemeColors["$text-color"] = "#4a4a4a";
		defaultThemeColors["$header-color"] = "#3B83C0";

		defaultThemeColors["$header-background-color"] = "#4a4a4a";
		defaultThemeColors["$body-container-background-color"] = "#F7F7F7";

		Survey
		    .StylesManager
		    .applyTheme();
		
		function renderSurvey(survey, element) {
		    survey.render(element);
		}

		var initialText = $( '#surveyText' ).text();

		var json = JSON.parse(initialText || '{}');

		var survey = new Survey.Model(json);

		survey.locale = 'nl';
		
		$("#surveyElement").Survey({model: survey});

		var results = $( '#surveyData' ).text();

		survey.data = JSON.parse(results || '{}');

		survey.mode = "display";

		if($("#saveToPDFbtn").length > 0) {
			$("#saveToPDFbtn").click(function(){
		        var pdfWidth = 595;
		        var pdfHeight = 842;
		        saveSurveyToPdf("surveyResult.pdf", survey, pdfWidth, pdfHeight, renderSurvey);
		    });
		}
		
	});
</script>