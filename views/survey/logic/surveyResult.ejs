<script>
	$(document).ready(function() {

		if (typeof Survey == "undefined") {
		   return console.log('survey model not defined');
		}


		if( $( '#surveyData' ).length == 0){
			return console.log('no survey data');
		}

		var defaultThemeColors = Survey
	    .StylesManager
	    .ThemeColors["default"];
		defaultThemeColors["$main-color"] = "#3B83C0";
		defaultThemeColors["$main-hover-color"] = "#54C8FF";
		defaultThemeColors["$text-color"] = "#4a4a4a";
		defaultThemeColors["$header-color"] = "#3B83C0";

		defaultThemeColors["$header-background-color"] = "#4a4a4a";
		defaultThemeColors["$body-container-background-color"] = "#F7F7F7";

		Survey
		    .StylesManager
		    .applyTheme();
		
		function renderSurvey(survey, element) {
		    survey.render(element);
		}

		var initialText = $( '#surveyText' ).text();

		var json = JSON.parse(initialText || '{}');

		var survey = new Survey.Model(json);

		survey.locale = 'nl';
		survey.haveCommercialLicense = true;

		survey.getAllQuestions().forEach(function(q) {
	      if(q.getType()==='boolean'){
	      	q.labelFalse = 'Nee';
	      	q.labelTrue = 'Ja';
	      }
	    });
		
		$("#surveyElement").Survey({model: survey});

		var results = $( '#surveyData' ).text();

		survey.data = JSON.parse(results || '{}');

		survey.mode = "display";

		function saveSurveyToPdf(filename, surveyModel, pdfWidth, pdfHeight) {
		    var options = {
		        fontSize: 14,
		        margins: {
		            left: 10,
		            right: 10,
		            top: 10,
		            bot: 10
		        },
		        format: [pdfWidth, pdfHeight],
		        commercial: true
		    };
		    var surveyPDF = new SurveyPDF.SurveyPDF(json, options);
		    surveyPDF.data = surveyModel.data;
		    surveyPDF.save(filename);
		}

		$("#saveToPDFbtn").click(function () {
	        var pdfWidth = survey.pdfWidth || 210;
	        var pdfHeight = survey.pdfHeight || 297;
	        saveSurveyToPdf("surveyResult.pdf", survey, pdfWidth, pdfHeight);
	    });
		
	});
</script>